# à¹à¸šà¸šà¸à¸¶à¸à¸«à¸±à¸” - Incremental Refresh & Partitioning

## ðŸ“š à¹€à¸­à¸à¸ªà¸²à¸£à¹à¸šà¸šà¸à¸¶à¸à¸«à¸±à¸”à¸ªà¸³à¸«à¸£à¸±à¸šà¸à¸²à¸£à¸à¸¶à¸à¸›à¸à¸´à¸šà¸±à¸•à¸´

à¹„à¸Ÿà¸¥à¹Œà¸™à¸µà¹‰à¸£à¸§à¸šà¸£à¸§à¸¡à¹à¸šà¸šà¸à¸¶à¸à¸«à¸±à¸”à¹à¸šà¸š Step-by-Step à¸ªà¸³à¸«à¸£à¸±à¸šà¹‚à¸¡à¸”à¸¹à¸¥ Incremental Refresh & Partitioning à¹‚à¸”à¸¢à¸£à¸§à¸¡ Code Examples à¹à¸¥à¸°à¸„à¸³à¸­à¸˜à¸´à¸šà¸²à¸¢à¸—à¸µà¹ˆà¸¥à¸°à¹€à¸­à¸µà¸¢à¸”

> **à¸«à¸¡à¸²à¸¢à¹€à¸«à¸•à¸¸:** Incremental Refresh à¹à¸¥à¸° Partitioning à¸•à¹‰à¸­à¸‡à¹ƒà¸Šà¹‰à¸‡à¸²à¸™à¸šà¸™ Power BI Service (à¸šà¸²à¸‡ Features à¸•à¹‰à¸­à¸‡à¹ƒà¸Šà¹‰ Premium)

---

## ðŸŽ¯ à¹à¸šà¸šà¸à¸¶à¸à¸«à¸±à¸”à¸—à¸µà¹ˆ 1: à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸² Incremental Refresh

### à¸§à¸±à¸•à¸–à¸¸à¸›à¸£à¸°à¸ªà¸‡à¸„à¹Œ

à¹€à¸£à¸µà¸¢à¸™à¸£à¸¹à¹‰à¸§à¸´à¸˜à¸µà¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸² Incremental Refresh à¹€à¸žà¸·à¹ˆà¸­ Refresh à¹€à¸‰à¸žà¸²à¸°à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹ƒà¸«à¸¡à¹ˆà¹€à¸—à¹ˆà¸²à¸™à¸±à¹‰à¸™

---

### à¸‚à¸±à¹‰à¸™à¸•à¸­à¸™à¸—à¸µà¹ˆ 1: à¹€à¸‚à¹‰à¸²à¹ƒà¸ˆ Incremental Refresh

**Step 1.1:** à¹€à¸‚à¹‰à¸²à¹ƒà¸ˆà¸§à¹ˆà¸² Incremental Refresh à¸„à¸·à¸­à¸­à¸°à¹„à¸£:

**Incremental Refresh** = à¸à¸²à¸£ Refresh à¹€à¸‰à¸žà¸²à¸°à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹ƒà¸«à¸¡à¹ˆà¹€à¸—à¹ˆà¸²à¸™à¸±à¹‰à¸™

**à¸›à¸£à¸°à¹‚à¸¢à¸Šà¸™à¹Œ:**
- à¸¥à¸”à¹€à¸§à¸¥à¸²à¹ƒà¸™à¸à¸²à¸£ Refresh
- à¸¥à¸”à¸à¸²à¸£à¹ƒà¸Šà¹‰ Resources
- à¹€à¸«à¸¡à¸²à¸°à¸ªà¸³à¸«à¸£à¸±à¸šà¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸‚à¸™à¸²à¸”à¹ƒà¸«à¸à¹ˆ

**Step 1.2:** à¸‚à¹‰à¸­à¸à¸³à¸«à¸™à¸”:

**à¸•à¹‰à¸­à¸‡à¸¡à¸µ:**
- Power BI Service (à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¸—à¸³à¹ƒà¸™ Desktop à¹„à¸”à¹‰)
- Premium License (à¸ªà¸³à¸«à¸£à¸±à¸šà¸šà¸²à¸‡ Features)
- Date/DateTime Column à¸ªà¸³à¸«à¸£à¸±à¸š Filter

---

### à¸‚à¸±à¹‰à¸™à¸•à¸­à¸™à¸—à¸µà¹ˆ 2: à¸ªà¸£à¹‰à¸²à¸‡ Parameters: RangeStart à¹à¸¥à¸° RangeEnd

**Step 2.1:** à¹€à¸›à¸´à¸” Power Query Editor

**Step 2.2:** à¸ªà¸£à¹‰à¸²à¸‡ Parameter à¸Šà¸·à¹ˆà¸­ `RangeStart`:

1. à¹„à¸›à¸—à¸µà¹ˆ **Home** â†’ **Manage Parameters** â†’ **New Parameter**
2. à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸²:
   - **Name**: `RangeStart`
   - **Type**: Date/Time
   - **Current Value**: `2024-01-01` (à¸«à¸£à¸·à¸­à¸§à¸±à¸™à¸—à¸µà¹ˆà¸—à¸µà¹ˆà¸•à¹‰à¸­à¸‡à¸à¸²à¸£)

**Step 2.3:** à¸ªà¸£à¹‰à¸²à¸‡ Parameter à¸Šà¸·à¹ˆà¸­ `RangeEnd`:

1. à¹„à¸›à¸—à¸µà¹ˆ **Home** â†’ **Manage Parameters** â†’ **New Parameter**
2. à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸²:
   - **Name**: `RangeEnd`
   - **Type**: Date/Time
   - **Current Value**: `2024-12-31` (à¸«à¸£à¸·à¸­à¸§à¸±à¸™à¸—à¸µà¹ˆà¸›à¸±à¸ˆà¸ˆà¸¸à¸šà¸±à¸™)

**Step 2.4:** Power Query M Expression:

**RangeStart:**
```m
let
    Source = DateTimeZone.ToUtc(#datetimezone(2024, 1, 1, 0, 0, 0, 0, 0))
in
    Source
```

**RangeEnd:**
```m
let
    Source = DateTimeZone.ToUtc(DateTimeZone.LocalNow())
in
    Source
```

---

### à¸‚à¸±à¹‰à¸™à¸•à¸­à¸™à¸—à¸µà¹ˆ 3: à¹à¸à¹‰à¹„à¸‚ Query à¹€à¸žà¸·à¹ˆà¸­ Filter à¸‚à¹‰à¸­à¸¡à¸¹à¸¥

**Step 3.1:** à¹€à¸¥à¸·à¸­à¸ Query à¸—à¸µà¹ˆà¸•à¹‰à¸­à¸‡à¸à¸²à¸£à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸² Incremental Refresh

**Step 3.2:** à¹€à¸žà¸´à¹ˆà¸¡ Step à¹€à¸žà¸·à¹ˆà¸­ Filter à¸‚à¹‰à¸­à¸¡à¸¹à¸¥:

1. à¹„à¸›à¸—à¸µà¹ˆ **Add Column** â†’ **Custom Column** à¸«à¸£à¸·à¸­
2. à¹„à¸›à¸—à¸µà¹ˆ **Home** â†’ **Advanced Editor**

**Step 3.3:** à¹€à¸žà¸´à¹ˆà¸¡ Filter Step:

```m
let
    Source = Sql.Database("server", "database"),
    Table = Source{[Schema="dbo",Item="Sales"]}[Data],
    #"Filtered Rows" = Table.SelectRows(
        Table, 
        each [OrderDate] >= RangeStart and [OrderDate] < RangeEnd
    )
in
    #"Filtered Rows"
```

**à¸­à¸˜à¸´à¸šà¸²à¸¢:**
- `[OrderDate] >= RangeStart` Filter à¹€à¸‰à¸žà¸²à¸° OrderDate >= RangeStart
- `[OrderDate] < RangeEnd` Filter à¹€à¸‰à¸žà¸²à¸° OrderDate < RangeEnd
- à¸œà¸¥à¸¥à¸±à¸žà¸˜à¹Œ = à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹ƒà¸™à¸Šà¹ˆà¸§à¸‡à¹€à¸§à¸¥à¸²à¸—à¸µà¹ˆà¸à¸³à¸«à¸™à¸”

---

### à¸‚à¸±à¹‰à¸™à¸•à¸­à¸™à¸—à¸µà¹ˆ 4: à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸² Incremental Refresh Policy

**Step 4.1:** à¹„à¸›à¸—à¸µà¹ˆ **Model View**

**Step 4.2:** Right-click à¸—à¸µà¹ˆ Table à¸—à¸µà¹ˆà¸•à¹‰à¸­à¸‡à¸à¸²à¸£

**Step 4.3:** à¹€à¸¥à¸·à¸­à¸ **Incremental refresh**

**Step 4.4:** à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸² Policy:

**Incremental refresh settings:**
- **Store rows in the last**: `3 Years` (à¹€à¸à¹‡à¸šà¸‚à¹‰à¸­à¸¡à¸¹à¸¥ 3 à¸›à¸µà¸¥à¹ˆà¸²à¸ªà¸¸à¸”)
- **Refresh rows in the last**: `1 Month` (Refresh à¸‚à¹‰à¸­à¸¡à¸¹à¸¥ 1 à¹€à¸”à¸·à¸­à¸™à¸¥à¹ˆà¸²à¸ªà¸¸à¸”)

**Step 4.5:** à¹€à¸¥à¸·à¸­à¸ Date Column:

- à¹€à¸¥à¸·à¸­à¸à¸„à¸­à¸¥à¸±à¸¡à¸™à¹Œà¸—à¸µà¹ˆà¹ƒà¸Šà¹‰ Filter (à¹€à¸Šà¹ˆà¸™ `OrderDate`)

**Step 4.6:** à¸„à¸¥à¸´à¸ **OK** à¹€à¸žà¸·à¹ˆà¸­à¸šà¸±à¸™à¸—à¸¶à¸

---

### à¸‚à¸±à¹‰à¸™à¸•à¸­à¸™à¸—à¸µà¹ˆ 5: Publish à¹à¸¥à¸° Refresh

**Step 5.1:** Publish à¹„à¸›à¸¢à¸±à¸‡ Power BI Service

**Step 5.2:** à¹„à¸›à¸—à¸µà¹ˆ Power BI Service

**Step 5.3:** à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸² Dataset â†’ **Settings** â†’ **Incremental refresh**

**Step 5.4:** à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š Policy:
- à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸§à¹ˆà¸² Policy à¸–à¸¹à¸à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸²à¸–à¸¹à¸à¸•à¹‰à¸­à¸‡
- à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š Date Column à¸—à¸µà¹ˆà¹€à¸¥à¸·à¸­à¸

**Step 5.5:** Refresh Dataset:
- à¸„à¸¥à¸´à¸ **Refresh now** à¸«à¸£à¸·à¸­
- à¸£à¸­à¹ƒà¸«à¹‰ Auto-Refresh à¸—à¸³à¸‡à¸²à¸™

---

### à¸„à¸³à¸–à¸²à¸¡à¹€à¸žà¸·à¹ˆà¸­à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸„à¸§à¸²à¸¡à¹€à¸‚à¹‰à¸²à¹ƒà¸ˆ

1. **RangeStart à¹à¸¥à¸° RangeEnd Parameters à¹ƒà¸Šà¹‰à¸—à¸³à¸­à¸°à¹„à¸£?**
   - **à¸„à¸³à¸•à¸­à¸š:** à¹ƒà¸Šà¹‰ Filter à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸•à¸²à¸¡à¸Šà¹ˆà¸§à¸‡à¹€à¸§à¸¥à¸²à¸—à¸µà¹ˆà¸à¸³à¸«à¸™à¸”

2. **à¸—à¸³à¹„à¸¡à¸•à¹‰à¸­à¸‡ Filter à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹ƒà¸™ Query?**
   - **à¸„à¸³à¸•à¸­à¸š:** à¹€à¸žà¸·à¹ˆà¸­à¹ƒà¸«à¹‰ Power BI Refresh à¹€à¸‰à¸žà¸²à¸°à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹ƒà¸™à¸Šà¹ˆà¸§à¸‡à¹€à¸§à¸¥à¸²à¸—à¸µà¹ˆà¸à¸³à¸«à¸™à¸” (Incremental Refresh)

3. **Incremental Refresh Policy à¸„à¸·à¸­à¸­à¸°à¹„à¸£?**
   - **à¸„à¸³à¸•à¸­à¸š:** à¸à¸²à¸£à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸²à¹€à¸žà¸·à¹ˆà¸­à¹€à¸à¹‡à¸šà¸‚à¹‰à¸­à¸¡à¸¹à¸¥ (Store rows) à¹à¸¥à¸° Refresh à¸‚à¹‰à¸­à¸¡à¸¹à¸¥ (Refresh rows) à¸•à¸²à¸¡à¸Šà¹ˆà¸§à¸‡à¹€à¸§à¸¥à¸²à¸—à¸µà¹ˆà¸à¸³à¸«à¸™à¸”

---

## ðŸ“ à¸ªà¸£à¸¸à¸›

### âœ… à¸ªà¸´à¹ˆà¸‡à¸—à¸µà¹ˆà¸„à¸§à¸£à¸ˆà¸³

1. **à¹ƒà¸Šà¹‰ RangeStart à¹à¸¥à¸° RangeEnd Parameters** à¹€à¸žà¸·à¹ˆà¸­ Filter à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸•à¸²à¸¡à¸Šà¹ˆà¸§à¸‡à¹€à¸§à¸¥à¸²
2. **Filter à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹ƒà¸™ Query** à¸”à¹‰à¸§à¸¢ OrderDate >= RangeStart and OrderDate < RangeEnd
3. **à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸² Retention Policy** (Store rows, Refresh rows) à¸•à¸²à¸¡à¸„à¸§à¸²à¸¡à¸•à¹‰à¸­à¸‡à¸à¸²à¸£
4. **Incremental Refresh à¸•à¹‰à¸­à¸‡à¹ƒà¸Šà¹‰ Power BI Service** (à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¸—à¸³à¹ƒà¸™ Desktop à¹„à¸”à¹‰)

---

## ðŸ”— à¹€à¸­à¸à¸ªà¸²à¸£à¸—à¸µà¹ˆà¹€à¸à¸µà¹ˆà¸¢à¸§à¸‚à¹‰à¸­à¸‡

- [README.md](./README.md) - à¹€à¸­à¸à¸ªà¸²à¸£à¸«à¸¥à¸±à¸à¸‚à¸­à¸‡à¹‚à¸¡à¸”à¸¹à¸¥
- [CODE-EXAMPLES.md](./CODE-EXAMPLES.md) - Code Examples à¹€à¸žà¸´à¹ˆà¸¡à¹€à¸•à¸´à¸¡
