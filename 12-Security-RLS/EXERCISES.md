# ‡πÅ‡∏ö‡∏ö‡∏ù‡∏∂‡∏Å‡∏´‡∏±‡∏î - Security & RLS

## üìö ‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡πÅ‡∏ö‡∏ö‡∏ù‡∏∂‡∏Å‡∏´‡∏±‡∏î‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ù‡∏∂‡∏Å‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥

‡πÑ‡∏ü‡∏•‡πå‡∏ô‡∏µ‡πâ‡∏£‡∏ß‡∏ö‡∏£‡∏ß‡∏°‡πÅ‡∏ö‡∏ö‡∏ù‡∏∂‡∏Å‡∏´‡∏±‡∏î‡πÅ‡∏ö‡∏ö Step-by-Step ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÇ‡∏°‡∏î‡∏π‡∏• Security & RLS ‡πÇ‡∏î‡∏¢‡∏£‡∏ß‡∏° Code Examples ‡πÅ‡∏•‡∏∞‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏ó‡∏µ‡πà‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î

---

## üéØ ‡πÅ‡∏ö‡∏ö‡∏ù‡∏∂‡∏Å‡∏´‡∏±‡∏î‡∏ó‡∏µ‡πà 1: ‡∏™‡∏£‡πâ‡∏≤‡∏á Static RLS

### ‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå

‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡∏ß‡∏¥‡∏ò‡∏µ‡∏™‡∏£‡πâ‡∏≤‡∏á Static RLS ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏≤‡∏°‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î

---

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 1: ‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå

**Step 1.1:** ‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå:

- ‡∏°‡∏µ‡∏ï‡∏≤‡∏£‡∏≤‡∏á FactResellerSales
- ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏à‡∏≥‡∏Å‡∏±‡∏î‡πÉ‡∏´‡πâ Role "North America Sales" ‡πÄ‡∏´‡πá‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏â‡∏û‡∏≤‡∏∞ Region = "North America"

**Step 1.2:** ‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à RLS:

**RLS (Row-Level Security)** = ‡∏ß‡∏¥‡∏ò‡∏µ‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô‡∏£‡∏∞‡∏î‡∏±‡∏ö‡πÅ‡∏ñ‡∏ß

**‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå:**
- ‡∏à‡∏≥‡∏Å‡∏±‡∏î‡πÉ‡∏´‡πâ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡πÄ‡∏´‡πá‡∏ô‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï
- ‡πÉ‡∏ä‡πâ Filter Expression ‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏î‡πâ‡∏ß‡∏¢ DAX

---

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 2: ‡∏™‡∏£‡πâ‡∏≤‡∏á Role

**Step 2.1:** ‡πÑ‡∏õ‡∏ó‡∏µ‡πà **Model View**

**Step 2.2:** Right-click ‡∏ó‡∏µ‡πà Semantic Model (‡∏´‡∏£‡∏∑‡∏≠ Table)

**Step 2.3:** ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å **Manage roles**

**Step 2.4:** ‡∏Ñ‡∏•‡∏¥‡∏Å **New** ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á Role ‡πÉ‡∏´‡∏°‡πà

**Step 2.5:** ‡∏û‡∏¥‡∏°‡∏û‡πå‡∏ä‡∏∑‡πà‡∏≠ Role:
- ‡∏û‡∏¥‡∏°‡∏û‡πå: `North America Sales`

---

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 3: ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô Filter Expression

**Step 3.1:** ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Table `FactResellerSales`

**Step 3.2:** ‡πÉ‡∏ô‡∏ä‡πà‡∏≠‡∏á **Table filter DAX expression** ‡∏û‡∏¥‡∏°‡∏û‡πå:

```dax
DimGeography[Region] = "North America"
```

**‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏™‡∏π‡∏ï‡∏£:**
- `DimGeography[Region] = "North America"` Filter ‡πÄ‡∏â‡∏û‡∏≤‡∏∞ Region = "North America"
- Filter ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ú‡πà‡∏≤‡∏ô Relationship ‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á FactResellerSales ‡πÅ‡∏•‡∏∞ DimGeography

**Step 3.3:** ‡∏Ñ‡∏•‡∏¥‡∏Å **OK** ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å Role

---

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 4: ‡∏ó‡∏î‡∏™‡∏≠‡∏ö RLS

**Step 4.1:** ‡∏Ñ‡∏•‡∏¥‡∏Å **View as roles**

**Step 4.2:** ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Role "North America Sales"

**Step 4.3:** ‡∏Ñ‡∏•‡∏¥‡∏Å **OK**

**Step 4.4:** ‡∏™‡∏£‡πâ‡∏≤‡∏á Visual:
- ‡∏™‡∏£‡πâ‡∏≤‡∏á Table Visual ‡∏ó‡∏µ‡πà‡πÅ‡∏™‡∏î‡∏á FactResellerSales
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏°‡∏µ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Region = "North America"

---

### ‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à

1. **Static RLS ‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£?**
   - **‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö:** ‡∏Å‡∏≤‡∏£‡∏Å‡∏≥‡∏´‡∏ô‡∏î Filter Expression ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Ñ‡πà‡∏≤‡∏ï‡∏≤‡∏¢‡∏ï‡∏±‡∏ß (‡πÄ‡∏ä‡πà‡∏ô Region = "North America")

2. **Filter Expression ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£?**
   - **‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö:** Filter Expression ‡∏à‡∏∞ Filter ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡πâ‡πÄ‡∏´‡πá‡∏ô‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÅ‡∏ñ‡∏ß‡∏ó‡∏µ‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç

---

## üéØ ‡πÅ‡∏ö‡∏ö‡∏ù‡∏∂‡∏Å‡∏´‡∏±‡∏î‡∏ó‡∏µ‡πà 2: ‡∏™‡∏£‡πâ‡∏≤‡∏á Dynamic RLS

### ‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå

‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡∏ß‡∏¥‡∏ò‡∏µ‡∏™‡∏£‡πâ‡∏≤‡∏á Dynamic RLS ‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ USERNAME() ‡πÅ‡∏•‡∏∞ USERPRINCIPALNAME()

---

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 1: ‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à Dynamic RLS

**Step 1.1:** ‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏ß‡πà‡∏≤ Dynamic RLS ‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£:

**Dynamic RLS** = ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ DAX ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Å‡∏≥‡∏´‡∏ô‡∏î Filter Expression ‡∏ï‡∏≤‡∏°‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç

**‡∏•‡∏±‡∏Å‡∏©‡∏ì‡∏∞:**
- Filter Expression ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ï‡∏≤‡∏°‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ
- ‡πÉ‡∏ä‡πâ USERNAME() ‡∏´‡∏£‡∏∑‡∏≠ USERPRINCIPALNAME()

**Step 1.2:** ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á:

**‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå:**
- ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡πÅ‡∏ï‡πà‡∏•‡∏∞ Sales Rep ‡πÄ‡∏´‡πá‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á
- ‡∏ï‡∏≤‡∏£‡∏≤‡∏á FactSales ‡∏°‡∏µ‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå `SalesRepEmail`

---

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 2: ‡∏™‡∏£‡πâ‡∏≤‡∏á Role

**Step 2.1:** ‡∏™‡∏£‡πâ‡∏≤‡∏á Role ‡πÉ‡∏´‡∏°‡πà:

1. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà **Model View**
2. Right-click ‚Üí **Manage roles**
3. ‡∏Ñ‡∏•‡∏¥‡∏Å **New**
4. ‡∏û‡∏¥‡∏°‡∏û‡πå‡∏ä‡∏∑‡πà‡∏≠: `Sales Rep Role`

---

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 3: ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô Filter Expression

**Step 3.1:** ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Table `FactSales`

**Step 3.2:** ‡∏û‡∏¥‡∏°‡∏û‡πå Filter Expression:

```dax
FactSales[SalesRepEmail] = USERNAME()
```

**‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏™‡∏π‡∏ï‡∏£:**
- `USERNAME()` ‡∏Ñ‡∏∑‡∏ô‡∏Ñ‡πà‡∏≤ Username ‡∏Ç‡∏≠‡∏á‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô
- `FactSales[SalesRepEmail] = USERNAME()` Filter ‡πÄ‡∏â‡∏û‡∏≤‡∏∞ Sales Rep ‡∏ó‡∏µ‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö Username ‡∏Ç‡∏≠‡∏á‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ

**Step 3.3:** ‡∏ñ‡πâ‡∏≤‡πÉ‡∏ä‡πâ Email ‡πÅ‡∏ó‡∏ô Username:

```dax
FactSales[SalesRepEmail] = USERPRINCIPALNAME()
```

**‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢:**
- `USERPRINCIPALNAME()` ‡∏Ñ‡∏∑‡∏ô‡∏Ñ‡πà‡∏≤ User Principal Name (‡πÄ‡∏ä‡πà‡∏ô email@domain.com)
- ‡πÉ‡∏ä‡πâ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÉ‡∏ä‡πâ Email ‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡∏£‡∏∞‡∏ö‡∏∏‡∏ï‡∏±‡∏ß‡∏ï‡∏ô

---

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 4: ‡∏ó‡∏î‡∏™‡∏≠‡∏ö Dynamic RLS

**Step 4.1:** ‡∏Ñ‡∏•‡∏¥‡∏Å **View as roles**

**Step 4.2:** ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Role "Sales Rep Role"

**Step 4.3:** ‡∏û‡∏¥‡∏°‡∏û‡πå Username ‡∏´‡∏£‡∏∑‡∏≠ Email ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ó‡∏î‡∏™‡∏≠‡∏ö:
- ‡∏û‡∏¥‡∏°‡∏û‡πå: `john@company.com` (‡∏´‡∏£‡∏∑‡∏≠ Username ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö)

**Step 4.4:** ‡∏Ñ‡∏•‡∏¥‡∏Å **OK**

**Step 4.5:** ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå:
- ‡∏™‡∏£‡πâ‡∏≤‡∏á Visual ‡∏ó‡∏µ‡πà‡πÅ‡∏™‡∏î‡∏á FactSales
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏°‡∏µ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ç‡∏≠‡∏á Sales Rep ‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å

---

### ‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à

1. **Static RLS ‡πÅ‡∏•‡∏∞ Dynamic RLS ‡∏ï‡πà‡∏≤‡∏á‡∏Å‡∏±‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£?**
   - **‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö:** Static RLS = ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Ñ‡πà‡∏≤‡∏ï‡∏≤‡∏¢‡∏ï‡∏±‡∏ß, Dynamic RLS = ‡πÉ‡∏ä‡πâ DAX ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏ï‡∏≤‡∏°‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç (‡πÄ‡∏ä‡πà‡∏ô USERNAME())

2. **USERNAME() ‡πÅ‡∏•‡∏∞ USERPRINCIPALNAME() ‡∏ï‡πà‡∏≤‡∏á‡∏Å‡∏±‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£?**
   - **‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö:** USERNAME() = ‡∏Ñ‡∏∑‡∏ô‡∏Ñ‡πà‡∏≤ Username, USERPRINCIPALNAME() = ‡∏Ñ‡∏∑‡∏ô‡∏Ñ‡πà‡∏≤ User Principal Name (Email)

---

## üìù ‡∏™‡∏£‡∏∏‡∏õ

### ‚úÖ ‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏Ñ‡∏ß‡∏£‡∏à‡∏≥

1. **Static RLS**: ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Ñ‡πà‡∏≤‡∏ï‡∏≤‡∏¢‡∏ï‡∏±‡∏ß (‡πÄ‡∏ä‡πà‡∏ô Region = "North America")
2. **Dynamic RLS**: ‡πÉ‡∏ä‡πâ DAX ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏ï‡∏≤‡∏°‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç (‡πÄ‡∏ä‡πà‡∏ô USERNAME(), USERPRINCIPALNAME())
3. **USERNAME() ‡πÅ‡∏•‡∏∞ USERPRINCIPALNAME()**: ‡πÉ‡∏ä‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Dynamic RLS
4. **RLS ‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏ö‡∏ô Power BI Service**: ‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÉ‡∏ô Power BI Desktop ‡∏à‡∏≥‡∏Å‡∏±‡∏î (‡πÉ‡∏ä‡πâ View as roles)

---

## üîó ‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á

- [README.md](./README.md) - ‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏´‡∏•‡∏±‡∏Å‡∏Ç‡∏≠‡∏á‡πÇ‡∏°‡∏î‡∏π‡∏•
- [CODE-EXAMPLES.md](./CODE-EXAMPLES.md) - Code Examples ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°
